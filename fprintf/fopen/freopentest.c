#include <stdio.h>
 
FILE *stream;
void main( void )
{
   stream = freopen( "freopen.out", "w", stdout ); // 重定向

  if( stream == NULL )
     fprintf( stdout, "error on freopen\n" );
  else
  {
     //system( "type freopen.out" );
     system( "ls -l" );
     fprintf( stream, "This will go to the file 'freopen.out'\n" );
     fprintf( stdout, "successfully reassigned\n" );
     fclose( stream );
  }
     fprintf( stdout, "this is not print out\n" );
  //system( "ls" );//没有会造成问题，需要小心
}
